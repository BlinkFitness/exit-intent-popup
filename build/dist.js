!function(e,o){"object"==typeof exports&&"undefined"!=typeof module?module.exports=o():"function"==typeof define&&define.amd?define(o):(e=e||self)["exit-intent-popup"]=o()}(this,(function(){"use strict";const e={create(e,o,t,n){var i="";if(n)i="; expires=0";else if(t){var s=new Date;s.setTime(s.getTime()+24*t*60*60*1e3),i="; expires="+s.toGMTString()}document.cookie=e+"="+o+i+"; path=/"},get(e){for(var o=e+"=",t=document.cookie.split(";"),n=0;n<t.length;n++){for(var i=t[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(o))return i.substring(o.length,i.length)}return null},erase(e){this.create(e,"",-1)}};return{shown:!1,delay:5,showOnDelay:!1,cookieExp:30,showOncePerSession:!1,onPopup:null,cookieNamespace:"bioep_",checkCookie(){return this.cookieExp<=0?!(!this.showOncePerSession||"true"!=e.get(this.cookieNamespace+"shown_session"))||(e.erase(this.cookieNamespace+"shown"),!1):"true"==e.get(this.cookieNamespace+"shown")},showPopup(){this.shown||(this.shown=!0,e.create(this.cookieNamespace+"shown","true",this.cookieExp,!1),e.create(this.cookieNamespace+"shown_session","true",0,!0),"function"==typeof this.onPopup&&this.onPopup())},addEvent:function(e,o,t){e.addEventListener?e.addEventListener(o,t,!1):e.attachEvent&&e.attachEvent("on"+o,t)},loadEvents:function(){this.addEvent(document,"mouseout",this.onMouseOverHandler.bind(this))},onClose:function(){this.removeEvent(document,"mouseout",this.onMouseOverHandler.bind(this)),this.removeEvent(document,"DOMContentLoaded",this.onInitHandler.bind(this))},setOptions:function(e){this.delay=void 0===e.delay?this.delay:e.delay,this.showOnDelay=void 0===e.showOnDelay?this.showOnDelay:e.showOnDelay,this.cookieExp=void 0===e.cookieExp?this.cookieExp:e.cookieExp,this.showOncePerSession=void 0===e.showOncePerSession?this.showOncePerSession:e.showOncePerSession,this.onPopup=void 0===e.onPopup?this.onPopup:e.onPopup,this.cookieNamespace=void 0===e.cookieNamespace?this.cookieNamespace:e.cookieNamespace},domReady:function(e){"interactive"===document.readyState||"complete"===document.readyState?e():this.addEvent(document,"DOMContentLoaded",e)},onMouseOverHandler:function(e){if("input"!=(e=e||window.event).target.tagName.toLowerCase()){var o=Math.max(document.documentElement.clientWidth,window.innerWidth||0);if(!(e.clientX>=o-50))if(!(e.clientY>=50))e.relatedTarget||e.toElement||this.showPopup()}},onInitHandler:function(){this.checkCookie()||setTimeout(function(){this.loadEvents(),this.showOnDelay&&this.showPopup()}.bind(this),1e3*this.delay)},init:function(e){void 0!==e&&this.setOptions(e),this.domReady(this.onInitHandler.bind(this))}}}));
